<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-nz" xml:lang="en-nz" class="_Skins_HTML5_Left_FIS" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../" data-mc-has-content-body="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="System Administration|Confirmation and EFT Setup and Administration|EFT Setup and Administration|EFT Message Formatting">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="Expires" content="0" />
        <meta http-equiv="Pragma" content="no-cache" />
        <meta http-equiv="Cache-Control" content="no-cache" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>XML Template Files (EFTs) for SWIFT, TARGET</title>
        <link href="../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" />
        <link href="../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" />
        <link href="../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" />
        <link href="../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" />
        <link href="../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" />
        <link href="../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" />
        <link href="Resources/Stylesheets/stylesheet.css" rel="stylesheet" />
        <link href="Resources/TableStyles/TableAuto.css" rel="stylesheet" />
        <script src="../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../Resources/Scripts/require.min.js" defer="defer">
        </script>
        <script src="../Resources/Scripts/require.config.js" defer="defer">
        </script>
        <script src="../Resources/Scripts/foundation.6.2.3_custom.js" defer="defer">
        </script>
        <script src="../Resources/Scripts/plugins.min.js" defer="defer">
        </script>
        <script src="../Resources/Scripts/MadCapAll.js" defer="defer">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-left" role="navigation" id="offCanvas" data-off-canvas="" data-position="left" data-mc-ignore="true">
                    <ul class="off-canvas-accordion vertical menu off-canvas-list" data-accordion-menu="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1150px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-dropdown" style="display:none;" id="#centralSmallScreen"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="166520.htm" title="FIS" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                    <div class="central-dropdown" style="display:none;" id="#centralTop"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                    <div class="central-dropdown" style="display:none;"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <div class="nocontent">
                                        <div class="MCBreadcrumbsBox_bodytext_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider="   &gt;   " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix"> </span>
                                        </div>
                                    </div>
                                    <div role="main" id="mc-main-content">
                                        <h1>XML Template Files (EFTs) for SWIFT, TARGET</h1>
                                        <p class="bodytext"><span class="VariablesChcAGQ_S">Quantum</span> provides the following files to specify and build each type of EFT message that may be output to the SWIFT and TARGET external services, along with any <a id="h179745" title="EFT Plug-Ins" href="179739.htm" target="_self">EFT Plug-In</a> (default or custom) that handles  External Methods.</p>
                                        <ul>
                                            <li value="1"><a href="#Seed" class="MCXref xref">Seed Files provided for SWIFT</a>
                                            </li>
                                            <li value="2"><a href="#Seed2" class="MCXref xref">Seed Files provided for Free Format MTn99 Messages</a>
                                            </li>
                                            <li value="3"><a href="#Seed3" class="MCXref xref">Seed Files provided for TARGET2 (prior to 2020.3)</a>
                                            </li>
                                            <li value="4"><a href="#Set" class="MCXref xref">Set up files for TARGET (after 2020.3)</a>
                                            </li>
                                        </ul>
                                        <p class="note-level-1-body"><span class="notechar">NOTE:</span> XML transformation in <span class="VariablesChcAGQ_S">Quantum</span> is <em class="emphasis">OPTIONAL</em>. It is not required, for example, if you are transforming EFT output using only ATS.</p>
                                        <p>To implement a set of XML template files, associate the EFT's <a id="h166532" title="External Method Source" href="165367.htm" target="_self">External Method Source</a> with the appropriate XML Template Configuration file. The EFT message content produced using these XML files is not itself in XML format; it is in the text format required by the external system. Only the definition files used to build them are in XML.</p>
                                        <h2><a name="Seed"></a>Seed Files provided for SWIFT</h2>
                                        <p><span class="VariablesChcAGQ_S">Quantum</span> provides the following Seed XML Template files to specify and build SWIFT.</p>
                                        <table class="TableStyle-TableAuto" cellpadding="2" cellspacing="3" border="1" style="border-collapse: collapse;border: 1px solid #010101;mc-table-style: url('Resources/TableStyles/TableAuto.css');width: 100%;">
                                            <col class="TableStyle-TableAuto-Column-Column1" />
                                            <col class="TableStyle-TableAuto-Column-Column1" />
                                            <tr align="left" valign="top" class="TableStyle-TableAuto-Body-Body1">
                                                <td bgcolor="#F3F9FB" width="174" class="TableStyle-TableAuto-BodyE-Column1-Body1">
                                                    <p class="tableheading">File Type</p>
                                                </td>
                                                <td bgcolor="#F3F9FB" width="342" class="TableStyle-TableAuto-BodyD-Column1-Body1">
                                                    <p class="tableheading">Seed File Names</p>
                                                </td>
                                            </tr>
                                            <tr align="left" valign="top" class="TableStyle-TableAuto-Body-Body1">
                                                <td width="174" class="TableStyle-TableAuto-BodyE-Column1-Body1">
                                                    <p class="tablebodytext">Template Configuration</p>
                                                </td>
                                                <td width="342" class="TableStyle-TableAuto-BodyD-Column1-Body1">
                                                    <p class="tablebodytext"><strong class="boldcharstyle">SeedXMLConfig_EFT.xtc</strong>
                                                    </p>
                                                </td>
                                            </tr>
                                            <tr align="left" valign="top" class="TableStyle-TableAuto-Body-Body1">
                                                <td width="174" class="TableStyle-TableAuto-BodyE-Column1-Body1">
                                                    <p class="tablebodytext">Data Template</p>
                                                </td>
                                                <td width="342" class="TableStyle-TableAuto-BodyD-Column1-Body1">
                                                    <p class="tablebodytext"><strong class="boldcharstyle">SeedXMLDataTemp_EFTandFlows.xml</strong>
                                                    </p>
                                                    <p class="tablebodytext"><strong class="boldcharstyle">SeedXMLDataTemp_EFTandFlows_InclSource.xml</strong>
                                                    </p>
                                                </td>
                                            </tr>
                                            <tr align="left" valign="top" class="TableStyle-TableAuto-Body-Body1">
                                                <td width="174" class="TableStyle-TableAuto-BodyE-Column1-Body1">
                                                    <p class="tablebodytext">Layout</p>
                                                </td>
                                                <td width="342" class="TableStyle-TableAuto-BodyD-Column1-Body1">
                                                    <p class="tablebodytext"><strong class="boldcharstyle">SeedXMLLayout_EFT.xml</strong>
                                                    </p>
                                                </td>
                                            </tr>
                                            <tr align="left" valign="top" class="TableStyle-TableAuto-Body-Body1">
                                                <td width="174" class="TableStyle-TableAuto-BodyE-Column1-Body1">
                                                    <p class="tablebodytext">Style sheet or Transformation</p>
                                                </td>
                                                <td width="342" class="TableStyle-TableAuto-BodyD-Column1-Body1">
                                                    <p class="tablebodytext"><strong class="boldcharstyle">SeedXMLStylesheet_SWIFTFIN.xsl</strong>
                                                    </p>
                                                </td>
                                            </tr>
                                            <tr align="left" valign="top" class="TableStyle-TableAuto-Body-Body1">
                                                <td width="174" class="TableStyle-TableAuto-BodyE-Column1-Body1">
                                                    <p class="tablebodytext">Includes</p>
                                                </td>
                                                <td width="342" class="TableStyle-TableAuto-BodyD-Column1-Body1">
                                                    <p class="tablebodytext"><strong class="boldcharstyle">SeedXMLIncludes.xml</strong>
                                                    </p>
                                                    <p class="tablebodytext"><strong class="boldcharstyle">SeedXMLIncludes_EFT.xml</strong>
                                                    </p>
                                                </td>
                                            </tr>
                                        </table>
                                        <p>&#160;</p>
                                        <p class="note-level-1-body"><strong class="notechar">NOTE:</strong> The <strong class="alertsonly-bold">SeedXMLDataTemp_EFTandFlows.xml</strong> file specifies all available cash flow, stock flow, and related data, and is the default Data Template file. The alternative <strong class="alertsonly-bold">SeedXMLDataTemp_EFTandFlows_InclSource.xml</strong> file also gives details of all source database fields, for information purposes.</p>
                                        <h2><a name="Seed2"></a>Seed Files provided for Free Format MTn99 Messages</h2>
                                        <p class="note-level-1-body"><span class="notechar">NOTE</span>: These files are intended for use only when <em class="emphasis">manually</em> creating <a id="h112525_4" title="Free Format  MTn99 (Messages - Processing)" href="174321.htm" target="_self">Free Format MT</a><em class="emphasis"><a id="h112525_5" title="Free Format  MTn99 (Messages - Processing)" href="174321.htm" target="_self">n</a></em><a id="h112525_6" title="Free Format  MTn99 (Messages - Processing)" href="174321.htm" target="_self">99 messages</a> (EFTs or Confirmations). Do not use them with XML Formatting for any other message type.</p>
                                        <p class="bodytext">Use the following Seed XML Template files by selecting the Configuration file in the <strong class="boldcharstyle">XML Template</strong> field in the New MTn99 dialog box (the <strong class="boldcharstyle">New</strong> function in Free Format MTn99 page menu).</p>
                                        <table class="TableStyle-TableAuto" cellpadding="2" cellspacing="3" border="1" style="border-collapse: collapse;border: 1px solid #010101;mc-table-style: url('Resources/TableStyles/TableAuto.css');width: 100%;">
                                            <col class="TableStyle-TableAuto-Column-Column1" />
                                            <col class="TableStyle-TableAuto-Column-Column1" />
                                            <tr align="left" valign="top" class="TableStyle-TableAuto-Body-Body1">
                                                <td bgcolor="#F3F9FB" width="174" class="TableStyle-TableAuto-BodyE-Column1-Body1">
                                                    <p class="tableheading">File Type</p>
                                                </td>
                                                <td bgcolor="#F3F9FB" width="342" class="TableStyle-TableAuto-BodyD-Column1-Body1">
                                                    <p class="tableheading">Seed File Names</p>
                                                </td>
                                            </tr>
                                            <tr align="left" valign="top" class="TableStyle-TableAuto-Body-Body1">
                                                <td width="174" class="TableStyle-TableAuto-BodyE-Column1-Body1">
                                                    <p class="tablebodytext">Template Configuration</p>
                                                </td>
                                                <td width="342" class="TableStyle-TableAuto-BodyD-Column1-Body1">
                                                    <p class="tablebodytext"><strong class="boldcharstyle">SeedXMLConfigMTn99.xtc</strong>
                                                    </p>
                                                </td>
                                            </tr>
                                            <tr align="left" valign="top" class="TableStyle-TableAuto-Body-Body1">
                                                <td width="174" class="TableStyle-TableAuto-BodyE-Column1-Body1">
                                                    <p class="tablebodytext">Data Template</p>
                                                </td>
                                                <td width="342" class="TableStyle-TableAuto-BodyD-Column1-Body1">
                                                    <p class="tablebodytext"><strong class="boldcharstyle">SeedXMLDataTemp_MTn99.xml</strong>
                                                    </p>
                                                </td>
                                            </tr>
                                            <tr align="left" valign="top" class="TableStyle-TableAuto-Body-Body1">
                                                <td width="174" class="TableStyle-TableAuto-BodyE-Column1-Body1">
                                                    <p class="tablebodytext">Layout</p>
                                                </td>
                                                <td width="342" class="TableStyle-TableAuto-BodyD-Column1-Body1">
                                                    <p class="tablebodytext"><strong class="boldcharstyle">SeedXMLLayout_MTn99.xml</strong>
                                                    </p>
                                                </td>
                                            </tr>
                                            <tr align="left" valign="top" class="TableStyle-TableAuto-Body-Body1">
                                                <td width="174" class="TableStyle-TableAuto-BodyE-Column1-Body1">
                                                    <p class="tablebodytext">Style sheet or Transformation</p>
                                                </td>
                                                <td width="342" class="TableStyle-TableAuto-BodyD-Column1-Body1">
                                                    <p class="tablebodytext"><strong class="boldcharstyle">SeedXMLStylesheet_SWIFTFIN.xsl</strong>
                                                    </p>
                                                </td>
                                            </tr>
                                        </table>
                                        <h2><a name="Seed3"></a>Seed Files provided for TARGET2 (prior to 2020.3)</h2>
                                        <p>Prior to 2020.3, we provided these Seed XML Template files for TARGET2.</p>
                                        <table class="TableStyle-TableAuto" cellpadding="2" cellspacing="3" border="1" style="border-collapse: collapse;border: 1px solid #010101;mc-table-style: url('Resources/TableStyles/TableAuto.css');width: 100%;">
                                            <col class="TableStyle-TableAuto-Column-Column1" />
                                            <col class="TableStyle-TableAuto-Column-Column1" />
                                            <tr align="left" valign="top" class="TableStyle-TableAuto-Body-Body1">
                                                <td bgcolor="#F3F9FB" style="border: 1px solid #010101;" width="174" class="TableStyle-TableAuto-BodyE-Column1-Body1">
                                                    <p class="tableheading">File Type</p>
                                                </td>
                                                <td bgcolor="#F3F9FB" style="border: 1px solid #010101;" width="342" class="TableStyle-TableAuto-BodyD-Column1-Body1">
                                                    <p class="tableheading">Seed File Names</p>
                                                </td>
                                            </tr>
                                            <tr align="left" valign="top" class="TableStyle-TableAuto-Body-Body1">
                                                <td style="border: 1px solid #010101;" width="174" class="TableStyle-TableAuto-BodyE-Column1-Body1">
                                                    <p class="tablebodytext">Template Configuration</p>
                                                </td>
                                                <td style="border: 1px solid #010101;" width="342" class="TableStyle-TableAuto-BodyD-Column1-Body1">
                                                    <p class="tablebodytext"><strong class="boldcharstyle">SWIFT TARGET2.xtc</strong>
                                                    </p>
                                                </td>
                                            </tr>
                                            <tr align="left" valign="top" class="TableStyle-TableAuto-Body-Body1">
                                                <td style="border: 1px solid #010101;" width="174" class="TableStyle-TableAuto-BodyE-Column1-Body1">
                                                    <p class="tablebodytext">Data Template<strong class="boldcharstyle">*</strong></p>
                                                </td>
                                                <td style="border: 1px solid #010101;" width="342" class="TableStyle-TableAuto-BodyD-Column1-Body1">
                                                    <p class="tablebodytext"><strong class="boldcharstyle">SeedXMLDataTemp_EFTandFlows.xml</strong>
                                                    </p>
                                                </td>
                                            </tr>
                                            <tr align="left" valign="top" class="TableStyle-TableAuto-Body-Body1">
                                                <td style="border: 1px solid #010101;" width="174" class="TableStyle-TableAuto-BodyE-Column1-Body1">
                                                    <p class="tablebodytext">Layout</p>
                                                </td>
                                                <td style="border: 1px solid #010101;" width="342" class="TableStyle-TableAuto-BodyD-Column1-Body1">
                                                    <p class="tablebodytext"><strong class="boldcharstyle">SeedXMLLayout_EFT_target2.xml</strong>
                                                    </p>
                                                </td>
                                            </tr>
                                            <tr align="left" valign="top" class="TableStyle-TableAuto-Body-Body1">
                                                <td style="border: 1px solid #010101;" width="174" class="TableStyle-TableAuto-BodyE-Column1-Body1">
                                                    <p class="tablebodytext">Style sheet or Transformation</p>
                                                </td>
                                                <td style="border: 1px solid #010101;" width="342" class="TableStyle-TableAuto-BodyD-Column1-Body1">
                                                    <p class="tablebodytext"><strong class="boldcharstyle">SeedXMLStylesheet_SWIFTFIN.xsl</strong>
                                                    </p>
                                                </td>
                                            </tr>
                                            <tr align="left" valign="top" class="TableStyle-TableAuto-Body-Body1">
                                                <td style="border: 1px solid #010101;" width="174" class="TableStyle-TableAuto-BodyE-Column1-Body1">
                                                    <p class="tablebodytext">Includes</p>
                                                </td>
                                                <td style="border: 1px solid #010101;" width="342" class="TableStyle-TableAuto-BodyD-Column1-Body1">
                                                    <p class="tablebodytext">[None]</p>
                                                </td>
                                            </tr>
                                        </table>
                                        <h2><a name="Set"></a>Set up files for TARGET (after 2020.3)</h2>
                                        <p>From 2020.3, we stop using the TARGET2.txt file and Seed XML Template files for TARGET and include the addressee details in the EFT XML Framework.  We also introduce some <a href="179824.htm">attributes</a>, such as mapTable and targetMap, to support the TARGET functionality.</p>
                                        <p class="procedureheading">To edit layout-associated records for TARGET</p>
                                        <p>This one-off process sets up the files associated with TARGET functionality. </p>
                                        <ol>
                                            <li value="1">There is no change required in the XML Config file.</li>
                                            <li value="2">There is no change required in the Data Template file.</li>
                                            <li value="3">In the Include record, send these Include items either  to an existing Include XML file, for example the <span class="boldcharstyle">SeedXMLIncludes_EFT.xml</span>, or a new XML file:<ul><li value="1">TargetDealCounterpartyBIC – source:deal counterparty BIC</li><li value="2">TargetOurBankBIC – source: cashflow entity SWIFT identifier (if MT900 or MT910) or cashflow bank account’s BIC</li></ul><p>Edit the Includes record for a Deal Counterparty BIC:</p><p><img src="Resources/Images/Q6x_Config_XMLData_Target3_v2030.png" /></p><pre>     &lt;IncludeItem id="TargetDealCounterpartyBIC"&gt;
         &lt;SelectCase&gt;
             &lt;!--if blank return xpath value as is --&gt;
             &lt;Case test="#/eft/cashflows/cashflow/party/bicCode#=''"&gt;
                 &lt;FieldItem xpath="/eft/cashflows/cashflow/party/bicCode"/&gt;
             &lt;/Case&gt;
             &lt;!--if less than 8 chars long, pad to 11 with Xs --&gt;
             &lt;Case test="string-length(#/eft/cashflows/cashflow/party/bicCode#) &amp;lt; 8"&gt;
                 &lt;FieldItem xpath="pad-right(#/eft/cashflows/cashflow/party/bicCode#,11,'X')"/&gt;
            &lt;/Case&gt;
            &lt;!--if 9th char not empty and length &lt;&gt; 11 --&gt;
            &lt;Case test="string-length(#/eft/cashflows/cashflow/party/bicCode#)!=11
                                and substring(#/eft/cashflows/cashflow/party/bicCode#,9,1)!=''"&gt;
                &lt;Combination&gt;
                     &lt;!--Remove 9th char, pad to 11 with Xs --&gt;
                    &lt;FieldItem xpath="pad-right(concat(substring(#/eft/cashflows/cashflow/party/bicCode#,1,8),
                                                 substring(#/eft/cashflows/cashflow/party/bicCode#,10)),11,'X')"/&gt;
                &lt;/Combination&gt;
            &lt;/Case&gt;
             &lt;!--pad to 11 with Xs --&gt;
             &lt;Else&gt;
                 &lt;FieldItem xpath="pad-right(#/eft/cashflows/cashflow/party/bicCode#,11,'X')"/&gt;
             &lt;/Else&gt;
        &lt;/SelectCase&gt;
    &lt;/IncludeItem&gt;
</pre><p>Our Bank BIC:</p><p><img src="Resources/Images/Q6x_Config_XMLData_Target4_v2030.png" /></p><pre>&lt;IncludeItem id="TargetOurBankBIC"&gt;
        &lt;SelectCase&gt;
              &lt;!--if MT900/910, use cashflow entity's Swift Identifier  --&gt;
              &lt;Case test="#/eft/messageType#='900' or #/eft/messageType#='910'"&gt;
                   &lt;SelectCase&gt;
                        &lt;!--if blank return xpath value --&gt;
                        &lt;Case test="#/eft/cashflows/cashflow/cashflowEntity/identifiers/identifier[@name='SWIFT']#=''"&gt;
                             &lt;FieldItem xpath="/eft/cashflows/cashflow/cashflowEntity/identifiers/identifier[@name='SWIFT']"/&gt;
                        &lt;/Case&gt;
                        &lt;!--if less than 8 chars long, pad to 11 with Xs --&gt;
                       &lt;Case test="string-length(#/eft/cashflows/cashflow/cashflowEntity/identifiers/identifier[@name='SWIFT']#) &amp;lt; 8"&gt;
                             &lt;FieldItem xpath="pad-right(#/eft/cashflows/cashflow/cashflowEntity/identifiers/identifier[@name='SWIFT']#,11,'X')"/&gt;
                       &lt;/Case&gt;
                       &lt;!--if 9th char not empty and length &lt;&gt; 11 --&gt;
                       &lt;Case test="string-length(#/eft/cashflows/cashflow/cashflowEntity/identifiers/identifier[@name='SWIFT']#)!=11
                                           and substring(#/eft/cashflows/cashflow/cashflowEntity/identifiers/identifier[@name='SWIFT']#,9,1)!=''"&gt;
                            &lt;Combination&gt;
                                 &lt;!--Remove 9th char, pad to 11 with Xs --&gt; 
                                 &lt;FieldItem xpath="pad-right(concat(substring(#/eft/cashflows/cashflow/cashflowEntity/identifiers/identifier[@name='SWIFT']#,1,8),
                                                               substring(#/eft/cashflows/cashflow/cashflowEntity/identifiers/identifier[@name='SWIFT']#,10)),11,'X')"/&gt;
                            &lt;/Combination&gt;
                       &lt;/Case&gt;
                       &lt;!--pad to 11 with Xs  --&gt;
                       &lt;Else&gt;
                           &lt;FieldItem xpath="pad-right(#/eft/cashflows/cashflow/cashflowEntity/identifiers/identifier[@name='SWIFT']#,11,'X')"/&gt;
                       &lt;/Else&gt;
                  &lt;/SelectCase&gt;
              &lt;/Case&gt;
              &lt;Else&gt;
                   &lt;!--if not MT900/910, use cashflow bank account Bic Code  --&gt;
                   &lt;SelectCase&gt;
                       &lt;!--if blank return xpath value --&gt;
                       &lt;Case test="#/eft/cashflows/cashflow/account/bank/bicCode#=''"&gt;
                           &lt;FieldItem xpath="/eft/cashflows/cashflow/account/bank/bicCode"/&gt;
                       &lt;/Case&gt;
                        &lt;!--if less than 8 chars long, pad to 11 with Xs --&gt;
                        &lt;Case test="string-length(#/eft/cashflows/cashflow/account/bank/bicCode#) &amp;lt; 8"&gt;
                            &lt;FieldItem xpath="pad-right(#/eft/cashflows/cashflow/account/bank/bicCode#,11,'X')"/&gt;
                        &lt;/Case&gt;
                        &lt;!--if 9th char not empty and length &lt;&gt; 11 --&gt;
                        &lt;Case test="string-length(#/eft/cashflows/cashflow/account/bank/bicCode#)!=11
                                             and substring(#/eft/cashflows/cashflow/account/bank/bicCode#,9,1)!=''"&gt;
                            &lt;Combination&gt;
                                 &lt;!--Remove 9th char, pad to 11 with Xs --&gt;
                                 &lt;FieldItem xpath="pad-right(concat(substring(#/eft/cashflows/cashflow/account/bank/bicCode#,1,8),
                                                               substring(#/eft/cashflows/cashflow/account/bank/bicCode#,10)),11,'X')"/&gt;
                            &lt;/Combination&gt;
                        &lt;/Case&gt;
                       &lt;!-- pad to 11 with Xs --&gt;
                       &lt;Else&gt;
                           &lt;FieldItem xpath="pad-right(#/eft/cashflows/cashflow/account/bank/bicCode#,11,'X')"/&gt;
                       &lt;/Else&gt;
                   &lt;/SelectCase&gt;
               &lt;/Else&gt;
         &lt;/SelectCase&gt;
    &lt;/IncludeItem&gt;
</pre></li>
                                            <li value="4">In the XML Layout record, replace the attributes in the respective header sections in the layout to allow the User to (optionally) set up a message for TARGET- and SWIFT-specific messages.<ul><li value="1"><p>mapTable(ewt_target, participant_bic, addressee) – Use to return the addressee-given participant BIC. </p></li><li value="2"><p>targetDate (date) – Use to specify the date to use for filtering records using the validity periods (the valid from and valid till dates).</p></li></ul><ul><li value="1"><p>For the Receiver Address (part of Block 2) for each message type, replace by the PriorityGroup section. The system checks for the deal's counterparty BIC code initially, to return an addressee. If it does not find the BIC, it uses Our Bank BIC. This screen shot shows Block 2 split into three sections to allow for the middle section, which has the priority group.</p><p><img src="Resources/Images/Q6x_Config_XMLData_Target1_v2030.png" /></p><pre>SeedXMLLayout_EFT_Target2 

   &lt;!--**************************************************************************************--&gt;
   &lt;!--    MT202 Example  Header                                                                                               --&gt;
   &lt;!--**************************************************************************************--&gt;
   &lt;Header id="202_HB" name="Header Block" mandatory="strict_conditional"&gt;
      &lt;Condition ref="is202"/&gt;
      &lt;Section id="202_HB_1" prefix="1" name="Basic Header Block" mandatory="yes" validationID="BW0001A"&gt;
         &lt;Field id="202_HB_Block1Group" mandatory="yes"&gt;
            &lt;Combination&gt;
               &lt;FieldItem id="202_ApplicationID" mandatory="yes"&gt;F&lt;/FieldItem&gt;
               &lt;FieldItem id="202_ServiceID" mandatory="yes"&gt;01&lt;/FieldItem&gt;
               &lt;FieldItem id="202_LTAddress" multiLine="no" maxLine="1" maxLength="12" mandatory="yes" xpath="/eft/cashflows/cashflow/cashflowEntity/identifiers/identifier[@name='SWIFT']" formatType="STRING_LTC_ADD"/&gt;
               &lt;FieldItem id="202_SessionNumber" mandatory="yes"&gt;0000&lt;/FieldItem&gt;
               &lt;FieldItem id="202_SequenceNumber" mandatory="yes"&gt;000000&lt;/FieldItem&gt;
            &lt;/Combination&gt;
         &lt;/Field&gt;
      &lt;/Section&gt;
      &lt;Section id="202_HB_2" prefix="2" name="Application Header Block" mandatory="yes" validationID="BW0002A"&gt;
         &lt;Field id="202_HB_Block2Group1" mandatory="yes"&gt;
            &lt;Combination&gt;
               &lt;FieldItem id="202_InputID" mandatory="yes"&gt;I&lt;/FieldItem&gt;
               &lt;FieldItem id="202_MessageType" mandatory="yes"&gt;202&lt;/FieldItem&gt;
            &lt;/Combination&gt;
         &lt;/Field&gt;
         &lt;Field id="202_HB_Block2Group2" multiLine="no" maxLine="1" maxLength="12" mandatory="yes" formatType="STRING_LTC_ADD"&gt;
            &lt;Combination&gt;
                &lt;PriorityGroup&gt;
                     &lt;FieldItem id="202_ReceiverAddress1" mapTable="(ewt_target, participant_bic, addressee)" targetDate="cashflow_date"&gt; 
                         &lt;Include id="TargetDealCounterpartyBIC"/&gt;
                     &lt;/FieldItem&gt;
                     &lt;FieldItem id="202_ReceiverAddress2" mapTable="(ewt_target, participant_bic, addressee)" targetDate="cashflow_date"&gt; 
                         &lt;Include id="TargetOurBankBIC"/&gt;
                     &lt;/FieldItem&gt;
                &lt;/PriorityGroup&gt;
            &lt;/Combination&gt;
         &lt;/Field&gt;         
        &lt;Field id="202_HB_Block2Group3" mandatory="yes"&gt;
            &lt;Combination&gt;          
               &lt;FieldItem id="202_MessagePriority" mandatory="yes"&gt;N&lt;/FieldItem&gt;
            &lt;/Combination&gt;
         &lt;/Field&gt;
      &lt;/Section&gt;
      &lt;Section id="202_HB3" prefix="3" name="User Header Block" mandatory="yes" validationID="BW0002C"&gt;
         &lt;!-- The Service Type Identifier is only used by gpi members  --&gt;
         &lt;!-- &lt;Field prefix="111" name="Service Type Identifier" mandatory="yes"&gt;001&lt;/Field&gt;--&gt;
         &lt;Field prefix="121" name="UETR" mandatory="no" xpath="eft/currentMessage/UETR"/&gt;
      &lt;/Section&gt;
   &lt;/Header&gt;
</pre><p>
This is an example of one of the message types, an MT202 message.</p></li></ul></li>
                                            <li value="5">
                                                <p>To (optionally) set up a message for TARGET- and SWIFT- specific messages, use the following as an example. </p><pre xml:space="preserve">   &lt;!--**************************************************************************************--&gt;
   &lt;!--    MT202 Example  Header  TARGET                                                     --&gt;
   &lt;!--**************************************************************************************--&gt;
   &lt;Header id="202_HB" name="Header Block" mandatory="strict_conditional"&gt;
      &lt;Condition ref="is202"/&gt;
      &lt;Section id="202_HB_1" prefix="1" name="Basic Header Block" mandatory="yes" validationID="BW0001A"&gt;
         &lt;Field id="202_HB_Block1Group" mandatory="yes"&gt;
            &lt;Combination&gt;
               &lt;FieldItem id="202_ApplicationID" mandatory="yes"&gt;F&lt;/FieldItem&gt;
               &lt;FieldItem id="202_ServiceID" mandatory="yes"&gt;01&lt;/FieldItem&gt;
               &lt;FieldItem id="202_LTAddress" multiLine="no" maxLine="1" maxLength="12" mandatory="yes" xpath="/eft/cashflows/cashflow/cashflowEntity/identifiers/identifier[@name='SWIFT']" formatType="STRING_LTC_ADD"/&gt;
               &lt;FieldItem id="202_SessionNumber" mandatory="yes"&gt;0000&lt;/FieldItem&gt;
               &lt;FieldItem id="202_SequenceNumber" mandatory="yes"&gt;000000&lt;/FieldItem&gt;
            &lt;/Combination&gt;
         &lt;/Field&gt;
      &lt;/Section&gt;
      &lt;Section id="202_HB_2" prefix="2" name="Application Header Block" mandatory="yes" validationID="BW0002A"&gt;
         &lt;Field id="202_HB_Block2Group1" mandatory="yes"&gt;
            &lt;Combination&gt;
               &lt;FieldItem id="202_InputID" mandatory="yes"&gt;I&lt;/FieldItem&gt;
               &lt;FieldItem id="202_MessageType" mandatory="yes"&gt;202&lt;/FieldItem&gt;
            &lt;/Combination&gt;
         &lt;/Field&gt;
         &lt;Field id="202_HB_Block2Group2" multiLine="no" maxLine="1" maxLength="12" mandatory="yes" formatType="STRING_LTC_ADD"&gt;
            &lt;Combination&gt;
                &lt;PriorityGroup&gt;
                     &lt;FieldItem id="202_ReceiverAddress1" mapTable="(ewt_target, participant_bic, addressee)" targetDate="cashflow_date"&gt; 
                         &lt;Include id="TargetDealCounterpartyBIC"/&gt;
                     &lt;/FieldItem&gt;
                     &lt;FieldItem id="202_ReceiverAddress2" mapTable="(ewt_target, participant_bic, addressee)" targetDate="cashflow_date"&gt; 
                         &lt;Include id="TargetOurBankBIC"/&gt;
                     &lt;/FieldItem&gt;
                  &lt;FieldItem xpath="/eft/cashflows/cashflow/account/bank/bicCode"/&gt;
                &lt;/PriorityGroup&gt;
            &lt;/Combination&gt;
         &lt;/Field&gt;         
        &lt;Field id="202_HB_Block2Group3" mandatory="yes"&gt;
            &lt;Combination&gt;                     
               &lt;FieldItem id="202_MessagePriority" mandatory="yes"&gt;N&lt;/FieldItem&gt;
            &lt;/Combination&gt;
         &lt;/Field&gt;
      &lt;/Section&gt;
      &lt;Section id="202_HB3" prefix="3" name="User Header Block" mandatory="yes" validationID="BW0002C"&gt;
         &lt;!-- The Service Type Identifier is only used by gpi members  --&gt;
         &lt;!-- &lt;Field prefix="111" name="Service Type Identifier" mandatory="yes"&gt;001&lt;/Field&gt;--&gt;
         &lt;Field prefix="121" name="UETR" mandatory="no" xpath="eft/currentMessage/UETR"/&gt;
     &lt;/Section&gt;
   &lt;/Header&gt;</pre>
                                                <p>Set up the above in the EFT layout if you want to use the same EFT run for TARGET and "normal" EFT messages.</p>
                                                <p class="tip-level-1-body"><span class="tipchar">TIP:</span> To have an EFT run for TARGET and "normal" messages for certain <a href="utility_eft_paymentmethod.htm">Payment Methods</a>, specify those payment methods in the logic above.</p>
                                            </li>
                                        </ol>
                                        <p>The EFT Layout file is now set up to use mapTable and targetDate functions to return a unique addressee from a table for TARGET messages.</p>
                                        <p>For more information about TARGET, read <a href="a_TARGET_Directory.htm">Details of TARGET Addressee</a>.</p>
                                    </div>
                                    <p>&#160;</p>
                                    <p>&#160;</p>
                                    <p>&#160;</p>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>